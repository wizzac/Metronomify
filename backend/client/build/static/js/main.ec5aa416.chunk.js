(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a.p+"static/media/click1.7a7930a2.wav"},28:function(e,t,a){e.exports=a.p+"static/media/click2.fe0ded65.wav"},29:function(e,t,a){e.exports=a(54)},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),s=a.n(c),l=a(25),i=a(2),o=a(3),m=a(5),u=a(4),p=a(6),d=a(26),h=a.n(d),b=(a(9),a(12),a(13),a(8)),v=a.n(b),f=a(10),E=a(7),g=a(11),y=a.n(g),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={item:null,trackId:""},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.item,a=t.name,n=t.artists,c=t.album,s=t.id,l=c.images[0].url,i={backgroundImage:"url(".concat(l,")")};return r.a.createElement("div",{className:"card-container",onClick:function(){e.setState({trackId:s}),e.props.handler(s)}},r.a.createElement("div",{className:"card",style:i},r.a.createElement("h4",null,a),r.a.createElement("span",{className:"chev"},n[0].name)))}}]),t}(n.Component),j=(a(53),a(27)),O=a.n(j),w=a(28),N=a.n(w),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).startStop=function(){a.state.playing?(clearInterval(a.timer),a.setState({playing:!1})):(a.timer=setInterval(a.playClick,60/a.state.bpm*1e3),a.setState({count:0,playing:!0},a.playClick))},a.playClick=function(){var e=a.state;e.count%e.beatsPerMeasure===0?a.click2.play():a.click1.play(),a.setState(function(e){return{count:(e.count+1)%e.beatsPerMeasure}})},a.handleBpmChange=function(e){var t=e.target.value;a.setState({bpm:t})},a.click1=new Audio(O.a),a.click2=new Audio(N.a),a.state={playing:!1,count:0,tunning:a.props.tunning,bpm:a.props.bpm,beatsPerMeasure:4},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.playing,a=e.bpm,n=e.tunning;return r.a.createElement("div",{className:"metronome fixed"},r.a.createElement("div",{className:"bpm-slider"},r.a.createElement("div",null,a," BPM"),r.a.createElement("div",null,"Tune:",n),r.a.createElement("input",{type:"range",min:"60",max:"240",value:a,onChange:this.handleBpmChange})),r.a.createElement("button",{onClick:this.startStop},t?"Stop":"Start"))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={list:[],tunning:"E",bpm:100},a.refMet=r.a.createRef(),a.clickHandler=a.clickHandler.bind(Object(E.a)(a)),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"clickHandler",value:function(){var e=Object(f.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("https://metronomify.herokuapp.com/advanced",{trackId:t});case 2:a=e.sent,this.setState({tunning:a.data.key,bpm:a.data.tempo}),this.refMet.current.setState({tunning:a.data.key,bpm:a.data.tempo});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t="";return this.props.list&&(t=this.props.list.map(function(t,a){return r.a.createElement(k,{key:a,item:t,handler:e.clickHandler})})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",null,t)),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(S,{tunning:this.state.tunning,bpm:this.state.bpm,ref:this.refMet})))}}]),t}(n.Component),x=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).handleSubmit=function(){var t=Object(f.a)(v.a.mark(function t(a){var n,r;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.state.search,t.next=4,y.a.post("https://metronomify.herokuapp.com/search",{stringToSearch:n});case 4:r=t.sent,e.setState({results:r.data.results});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.state={search:"",results:[]},e.handleChange=e.handleChange.bind(Object(E.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(E.a)(e)),e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState({search:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("div",{className:"row",align:"center"},r.a.createElement("div",{className:"col-md-12 col-md-offset-4"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{className:"barra",type:"text",name:"stringToSearch",value:this.state.search,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",className:"btnesta",value:"Buscar"})))),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("h3",null,"Esta Aplicacion permite buscar canciones en spotify, conocer en que nota esta afinada e iniciar un metrono al tempo estimado de la cancion")),r.a.createElement("br",null),r.a.createElement(C,{list:this.state.results}))}}]),t}(n.Component),I=function(e){function t(){var e;Object(i.a)(this,t);var a=(e=Object(m.a)(this,Object(u.a)(t).call(this))).getHashParams().access_token;return e.state={va:"",token:a,loggedIn:!!a},e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"getHashParams",value:function(){var e,t={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);for(e=a.exec(n);e;)t[e[1]]=decodeURIComponent(e[2]),e=a.exec(n);return t}},{key:"componentDidMount",value:function(){this.typed=new h.a(this.el,{strings:["<span>&nbsp;</span> para practicar","<span>&nbsp;</span> porque quiero","<span>&nbsp;</span> porque puedo"],typeSpeed:30,backSpeed:60,backDelay:1e3,startDelay:1e3,loop:!0})}},{key:"render",value:function(){var e=this;if(!0===this.state.loggedIn)var t=r.a.createElement("div",{className:"divLogged"},r.a.createElement("div",{id:"log",className:"row"}),r.a.createElement("br",null),r.a.createElement("div",{id:"loggedin",className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(x,{results:[]}))));else t=r.a.createElement("div",{id:"btnLog"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("br",null),r.a.createElement("a",{className:"btnesta pull-right",href:"https://metronomify.herokuapp.com/login"},"Conectar a spotifyyyy"))),r.a.createElement("br",null));return r.a.createElement("div",{className:"container"},r.a.createElement("script",{src:"http://code.jquery.com/jquery-1.10.1.min.js"}),r.a.createElement("div",{id:"login"},r.a.createElement("div",{className:"row"},r.a.createElement("div",Object(l.a)({className:"col-md-12"},"className","absol"),r.a.createElement("h1",null,"Implementacion de api de spotify",r.a.createElement("span",{ref:function(t){e.el=t}})))),t))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(I,null),document.getElementById("root"))},9:function(e,t,a){}},[[29,1,2]]]);
//# sourceMappingURL=main.ec5aa416.chunk.js.map